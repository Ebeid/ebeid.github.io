---
title: Getting Started with MongoDB – Part 1
date: '2013-07-12T13:46:00.000-05:00'
author: Ebeid Soliman ElSayed
tags:
- MongoDB
- JSON
- NoSQL
modified_time: '2013-07-12T15:54:21.770-05:00'
thumbnail: http://lh3.ggpht.com/-m2ZNUOKu82Y/UdyKMjaQRMI/AAAAAAAABvI/ESn0UCWYT8g/s72-c/CWindowssystem32cmd.exe%252520-%252520mongod.exe%252520%252520--dbpath%252520Cmongodbdata_2013-07-09_16-10-49_thumb.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-59384554657271185.post-2830278696665579012
blogger_orig_url: http://ebeid-soliman.blogspot.com/2013/07/getting-started-with-mongodb-part-1.html
---

<br><b>MongoDB</b> (from "hu<b>mongo</b>us") is an open source <a href="http://en.wikipedia.org/wiki/Document-oriented_database">document-oriented database</a> system developed and supported by <a href="http://www.blogger.com/www.10gen.com">10gen</a> (founded by <a href="https://twitter.com/dmerr">Dwight Merriman</a>). First publicly released in 2009, and since then it have been a rising star in the NoSQL world. MongoDB stores structured data as <a href="http://en.wikipedia.org/wiki/JSON">JSON</a>-like documents with dynamic schemas (technically data is stored in a binary form of JSON known as <a href="http://en.wikipedia.org/wiki/BSON">BSON</a>), making the integration of data in certain types of applications easier and faster.<br> <h4>Installation</h4> <ol> <li>Download the latest mongoDB version from <a title="downloads page" href="http://www.mongodb.org/downloads" target="_blank">here</a>.  <li>Extract the archive to your preferred location (in my case C:\mongodb). MongoDB is self-contained and does not have any other system dependencies. You can run MongoDB from any folder you choose. You may install MongoDB in any directory.  <li>MongoDB requires a data folder to store its files (default is C:\data\db ). You may specify a different path with the dbpath setting when lunching mongod.exe.</li></ol> <h4>Starting the Server</h4>To start MongoDB, open the command prompt window, and run mongod.exe from the bin directory (specify the data path if needed)<br><a href="http://lh4.ggpht.com/-usyjMRcQvaY/UeBs-Hy35mI/AAAAAAAABvE/H8AjQbagqRs/s1600-h/CWindowssystem32cmd.exe%252520-%252520mongod.exe%252520%252520--dbpath%252520Cmongodbdata_2013-07-09_16-10-49.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="CWindowssystem32cmd.exe - mongod.exe  --dbpath Cmongodbdata_2013-07-09_16-10-49" border="0" alt="CWindowssystem32cmd.exe - mongod.exe  --dbpath Cmongodbdata_2013-07-09_16-10-49" src="http://lh3.ggpht.com/-m2ZNUOKu82Y/UdyKMjaQRMI/AAAAAAAABvI/ESn0UCWYT8g/CWindowssystem32cmd.exe%252520-%252520mongod.exe%252520%252520--dbpath%252520Cmongodbdata_2013-07-09_16-10-49_thumb.png?imgmax=800" width="565" height="109"></a>The <tt>waiting for connections</tt> message in the console output indicates that the mongod.exe process is running successfully and waiting for connections on port 27017<br> <h4>Connecting to the Server</h4>To connect to the server, open another command prompt window and run mongo.exe from the bin directory.<br><a href="http://lh6.ggpht.com/-yAQeNKOIJ7E/UdyKNGd5VrI/AAAAAAAABt4/HJt-3Qz1R0U/s1600-h/CWindowssystem32cmd.exe%252520-%252520mongo_2013-07-09_16-27-37%25255B3%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="CWindowssystem32cmd.exe - mongo_2013-07-09_16-27-37" border="0" alt="CWindowssystem32cmd.exe - mongo_2013-07-09_16-27-37" src="http://lh5.ggpht.com/-cSLcxLVa1co/UdyKNTQDzhI/AAAAAAAABuE/8EPLDqel4As/CWindowssystem32cmd.exe%252520-%252520mongo_2013-07-09_16-27-37_thumb%25255B1%25255D.png?imgmax=800" width="493" height="165"></a><br> <h4>Run MongoDB as a Windows Service</h4> <ol> <li>Create a log file for MongoDB (in my case c:\mongodb\log\mongo.log ).  <li>Create a data directory for MongoDB (in my case c:\mongodb\data ).  <li>Open the command prompt window as an administrator.  <li>Run the following command <span style="color: blue"><i>C:\mongodb\bin&gt;mongod.exe –install –rest –master --logpath "c:\mongodb\log\mongo.log"</i></span>  <li>Run <span style="color: blue">regedit</span> from start menu.  <li>Go to <i>HKEY_LOCAL_MACHINE &gt;&gt; SYSTEM &gt;&gt; CurrentControlSet &gt;&gt; services</i>  <li>Find the MongoDB directory &amp; edit the <span style="color: blue"><i>ImagePath</i></span> key.  <li>Set value as <i><span style="color: blue">c:\mongodb\bin\mongod --service&nbsp; --rest&nbsp; --master&nbsp; --logpath=C:\mongodb\log\mongo.log&nbsp; --dbpath=C:\mongodb\data</span></i>  <li>Save and exit registry editor  <li>Open ComponentServices from Start menu &gt;&gt; Run  <li>Locate the Mongo DB service, and reigh click &gt;&gt; Properties.  <li>Set the Startup Type to Automatic. Then start the service.  <ol> <li>To run the MongoDB service from command window, use <i><span style="color: blue">net start MongoDB</span></i></li></ol> <li>Check at <a href="http://localhost:28017/">http://localhost:28017/</a> to see , MongoDB should return stats.</li></ol><span style="color: black">In case you want to remove MongoDB service </span><i><span style="color: blue">C:\mongodb\bin\mongod.exe –remove</span></i><br> <h4>Data Model</h4>Data in MongoDB has a <i>flexible</i> schema. <br> <ul> <li>Database consists on a set of collections.  <li>Collections consists of a set of documents.  <ul> <li>Documents in the same collection do not need to have the same set of fields or structure.  <li>Common fields in a collection’s documents can hold different types of data.</li></ul></li></ul>Based on what we mentioned, you could say that MongoDB is schema-less. But you may refer to this <a title="Data Modeling Considerations for MongoDB Applications" href="http://docs.mongodb.org/manual/core/data-modeling/" target="_blank">data modeling article</a> before doing real work on MongoDB.<br> <h4>CRUD operations</h4> <ul> <li>When you start the mongo shell, it connect to test database by default. To create a new database or switch to another database, use <b><i><span style="color: blue">use newdb</span></i></b>  <li><span style="color: black">To show a list of databases, use <b><i>show dbs </i></b>(databases are created when you insert the first values in it. This means that any database have been created but no values inserted in it, it really doesn’t exist).</span>  <li><span style="color: black">To confirm the current session database, use <b><i>db</i></b></span>  <li><span style="color: black">To create a collection, just insert an initial record to it. Since Mongo is schema-less, there is no need to define anything up front. The following code creates/inserts a towns collection:</span></li></ul><span style="color: blue">db.towns.insert({<br>name: "New York",<br>population: 22200000,<br>last_census: ISODate("2009-07-31"),<br>famous_for: [ "statue of liberty", "food" ],<br>mayor : {<br>name : "Michael Bloomberg",<br>party : "I"<br>}<br>})</span><br> <ul> <ul> <li>brackets like {...} denote an object with key-value pairs.  <li>brackets like [...] denote an array.  <li>You can nest these values to any depth.</li></ul> <li>To show a list of collections, use <b><i>show collections</i></b>.  <li>To list the contents of a collection, use <b><i>db.towns.find()</i></b>  <ul> <li>You will see a system generated field <b>_id </b>( composed of a timestamp, client machine ID, client process ID, and a 3-byte incremented counter) (you can override this system generated</li></ul> <li>MongoDB commands are JavaScript functions.  <ul> <li><b>db</b> is a JavaScript object that contains information about the current database. Try <span style="color: blue"><b>typeof db</b></span>  <li><b>db.<i>x </i></b>is a JavaScript object that represent a collection named <i>x</i> within the current database. Try <span style="color: blue"><b>typeof db.towns</b></span>  <li><b>db.<i>x</i>.help()</b> will list available functions related to the given object. Try <span style="color: blue"><b>typeof db.towns.insert</b></span>  <li><span style="color: black">If you want to inspect the source code of a function, call it without parameter or parentheses.</span></li></ul> <li><span style="color: black"><b>Functions</b> You can create JavaScript functions and call them on the mongo shell like:</span></li></ul> <blockquote><span style="color: blue">function insertCity( name, population, last_census, famous_for, mayor_info) {<br>db.towns.insert({<br>name:name,<br>population:population,<br>last_census: ISODate(last_census),<br>famous_for:famous_for,<br>mayor : mayor_info<br>});<br>}</span><br><span style="color: blue">insertCity("Punxsutawney", 6200, '2008-31-01', ["phil the groundhog"], { name : "Jim Wehrle" } )<br>insertCity("Portland", 582000, '2007-20-09', ["beer", "food"], { name : "Sam Adams", party : "D" } )</span><br><span style="color: black">Now have three towns in our collection</span><br><a href="http://lh5.ggpht.com/-xbNkGCPlb9o/Ud8r1wrCQ9I/AAAAAAAABvU/WjQaiWPOKL8/s1600-h/Command%252520Prompt%252520-%252520mongo_2013-07-11_14-35-39%25255B1%25255D.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="Command Prompt - mongo_2013-07-11_14-35-39" border="0" alt="Command Prompt - mongo_2013-07-11_14-35-39" src="http://lh5.ggpht.com/-HMED6vMJ-xU/Ud8r2fqEPSI/AAAAAAAABvc/wOO7EdlP9wA/Command%252520Prompt%252520-%252520mongo_2013-07-11_14-35-39_thumb%25255B1%25255D.png?imgmax=800" width="543" height="208"></a></blockquote> <ul> <li>To get a specific document, we only need _id passed to <b>find()</b> function in type ObjectId(<b>findOne()</b> retrieves only one matching document). String can be converted to ObjectId using <b>ObjectId(str)</b> function.</li></ul>&nbsp;<span style="color: blue">db.towns.find({ "_id" : ObjectId("51def56c1cf66f4c40bb7f4a") })</span><br> <ul> <ul> <li>The find() function also accepts an optional second parameter: a fields object we can use to filter which fields are retrieved. If we want only the town name (along with _id), pass in name with a value resolving to 1 (or true).</li></ul></ul><span style="color: blue">db.towns.find({ "_id" : ObjectId("51def56c1cf66f4c40bb7f4a") }, { name : 1})</span><br> <ul> <ul> <li>To retrieve all fields except name, set name to 0 (or false or null).</li></ul></ul><span style="color: blue">db.towns.find({ "_id" : ObjectId("51def56c1cf66f4c40bb7f4a") }, { name : 0})</span><br> <ul> <ul> <li><span style="color: black">You can retrieve documents based on criteria other than _id. You can use regular expressions or any <a title="Query, Update and Projection Operators" href="http://docs.mongodb.org/manual/reference/operator/" target="_blank">operator</a>.</span></li></ul></ul>db.towns.find( { name : /^P/, population : { $lt : 10000 } }, { name : 1, population : 1 } )<br>We said before that the query language is JavaScript, which means we can construct operations as we would construct objects. In the following query, we build a criteria where the population must be between 10.000 and 1 million. Ranges work also on dates.<br><span style="color: blue">&gt; var population_range = {}<br>&gt; population_range['$lt'] = 100000<br>100000<br>&gt; population_range['$gt'] = 10000<br>10000<br>&gt; population_range['$lt'] = 1000000<br>1000000<br>&gt; population_range['$gt'] = 10000<br>10000<br>&gt; db.towns.find( {name : /^P/, population : population_range }, {name: 1})<br>{ "_id" : ObjectId("51df08e72476b99608460870"), "name" : "Portland" }</span><br> <ul> <ul> <li><span style="color: black">You can also query based on values in nested arrays, either matching exact values or matching partial values or all matching values or the lack of matching values.</span></li></ul></ul><span style="color: blue">&gt; db.towns.find( { famous_for : 'food' }, { _id : 0, name : 1, famous_for : 1 } )<br>{ "name" : "New York", "famous_for" : [&nbsp; "statue of liberty",&nbsp; "food" ] }<br>{ "name" : "Portland", "famous_for" : [&nbsp; "beer",&nbsp; "food" ] }<br>&gt; db.towns.find( { famous_for : /statue/ }, { _id : 0, name : 1, famous_for : 1 } )<br>{ "name" : "New York", "famous_for" : [&nbsp; "statue of liberty",&nbsp; "food" ] }<br>&gt; db.towns.find( { famous_for : { $all : ['food', 'beer'] } }, { _id : 0, name:1, famous_for:1 } )<br>{ "name" : "Portland", "famous_for" : [&nbsp; "beer",&nbsp; "food" ] }<br>&gt; db.towns.find( { famous_for : { $nin : ['food', 'beer'] } }, { _id : 0, name : 1, famous_for : 1 } )<br>{ "name" : "Punxsutawney", "famous_for" : [&nbsp; "phil the groundhog" ] }</span><br> <ul> <ul> <li><span style="color: black">You can query a sub-document by giving the field name as a string separating nested layers with a dot.</span></li></ul></ul><span style="color: blue">&gt; db.towns.find( { 'mayor.party' : 'I' }, { _id : 0, name : 1, mayor : 1 } )<br>{ "name" : "New York", "mayor" : { "name" : "Michael Bloomberg", "party" : "I" } }</span><br> <ul> <ul> <li>To query the nonexistence of a field value</li></ul></ul><span style="color: blue">&gt; db.towns.find( { 'mayor.party' : { $exists : false } }, { _id : 0, name : 1, mayor : 1 } )<br>{ "name" : "Punxsutawney", "mayor" : { "name" : "jim Wehrle" } }</span><br> <ul> <li> <h3>elemMatch </h3></li></ul>$elemMatch helps us specify if a document or a nested document matches all of our criteria, the document counts as a match and returned. We can use any advanced operators within this criteria. To show it in action, let’s insert some data into a new collection <i>countries</i><br><span style="color: blue">&gt; db.countries.insert({ _id : "us",<br>... name : "United States",<br>... exports : {<br>...&nbsp; foods : [<br>...&nbsp;&nbsp; { name : "bacon", tasty : true },<br>...&nbsp;&nbsp; { name : "burgers" }<br>...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]<br>...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>... })<br>&gt; db.countries.insert({ _id : "ca",<br>... name : "Canada",<br>... exports : {<br>...&nbsp; foods : [<br>...&nbsp;&nbsp; { name : "bacon", tasty : false },<br>...&nbsp;&nbsp; { name : "syrup", tasty : true }<br>...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]<br>...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>... })<br>&gt; db.countries.insert({ _id : "mx",<br>... name : "Mexico",<br>... exports : {<br>...&nbsp; foods : [<br>...&nbsp;&nbsp; { name : "salsa", tasty : true, condiment : true }<br>...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]<br>...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>... })<br>&gt; print( db.countries.count() )<br>3</span><br>Now if we need to select countries that export tasty bacon, we should $elemMatch in a query like:<br><span style="color: blue">&gt; db.countries.find(<br>... {<br>...&nbsp;&nbsp; 'exports.foods' : {<br>...&nbsp;&nbsp;&nbsp; $elemMatch : {<br>...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name : "bacon",<br>...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tasty : true<br>...&nbsp;&nbsp;&nbsp;&nbsp; }<br>...&nbsp;&nbsp; }<br>... },<br>... { _id : 0, name : 1 }<br>... )<br>{ "name" : "United States" }</span><br>If we didn’t used $elemMatch and wrote a query like the following, it will return countries that export bacon or tasty food, not tasty bacon<br><span style="color: blue">&gt; db.countries.find(<br>... { 'exports.foods.name' : 'bacon' , 'exports.foods.tasty' : true },<br>... { _id : 0, name : 1 }<br>... )<br>{ "name" : "United States" }<br>{ "name" : "Canada" }</span><br> <ul> <li> <h3>Boolean Operators</h3></li></ul><b>$or</b> a prefix for criteria to return document that match either condition1 or condition2. There is a a lot of <a title="Query, Update and Projection Operators" href="http://docs.mongodb.org/manual/reference/operator/" target="_blank">operators</a> you can use.<br><span style="color: blue">&gt; db.countries.find({<br>... $or : [ { _id : "mx" } , { name : "United States" } ] },<br>... {_id : 1} )<br>{ "_id" : "us" }<br>{ "_id" : "mx" }</span><br> <h3>Update</h3>The find() function toke two parameters, criteria and list of fields to return. The update() function works the same way. The first parameter is a criteria (the same way you will use to retreive the document through find()). The second parameter is an object whose fields will replace the matched document(s) or a modifier operation (<b>$set</b> to set a field value, $unset to delete a field, <b>$inc</b> to increment a field value by a number).<br>The following query will set the field state with the string OR for the matching document.<br>db.towns.update( { _id : ObjectId("4d0ada87bb30773266f39fe5") }, { $set : { "state" : "OR" } } )<br>but the following query will replace the matching document with a new document { state : “OR”}<br>db.towns.update( { _id : ObjectId("4d0ada87bb30773266f39fe5") }, { state : "OR" } )<br> <h3>References</h3>Although MongoDB is schema-less but you can make one document reference another document using a construct like { $ref : “<i>collection_name</i>”, $id : “<i>reference_id</i>” }. In the following query we linking New York town with the country US. Notice the display of the new country field in the New York town document.<br><span style="color: blue">&gt; db.towns.update(<br>... { _id : ObjectId("51def56c1cf66f4c40bb7f4a") },<br>... { $set : { country : { $ref : "countries", $id : "us" } } }<br>... )<br>&gt; db.towns.find( { _id : ObjectId("51def56c1cf66f4c40bb7f4a") } )<br>{ "_id" : ObjectId("51def56c1cf66f4c40bb7f4a"), <u>"country" : DBRef("countries", "us")</u>, "famous_for" : [&nbsp; "statue of liberty",&nbsp; "food" ], "last_census" : ISODate("2009-07-31T00:00:00Z"), "mayor" : { "na<br>me" : "Michael Bloomberg", "party" : "I" }, "name" : "New York", "population" : 22200000 }</span><span style="color: black">Now we can retrieve New york from towns collection, then use it to retrieve its country </span><br><span style="color: blue">&gt; var NY = db.towns.findOne( { _id : ObjectId("51def56c1cf66f4c40bb7f4a") } )<br>&gt; db.countries.findOne( { _id : NY.country.$id })<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "_id" : "us",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name" : "United States",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "exports" : {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "foods" : [<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name" : "bacon",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "tasty" : true<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name" : "burgers"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>}</span><br>or in a different way <span style="color: blue">&gt; db[ NY.country.$ref ].findOne( { _id : NY.country.$id} )</span><br> <h3>Delete</h3><span style="color: blue"><span style="color: black">Removing documents from a collections is simple, use your criteria with a call to <b>remove()</b> function and all matching documents will be removed. It’s a recommended practice to build your criteria in an object, use that criteria to ensure that matching documents are the expected ones, pass this criteria to remove() function.</span></span><br>&gt; var bad_bacon = { 'exports.foods' : {<br>... $elemMatch : { name : 'bacon', tasty : false }<br>... } }<br>&gt; db.countries.find ( bad_bacon)<br>{ "_id" : "ca", "name" : "Canada", "exports" : { "foods" : [&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name" : "bacon",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "tasty" : false },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "name" : "syrup",&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "tasty" : true } ] } }<br>&gt; db.countries.remove( bad_bacon)<br>&gt; db.countries.count()<br>2<br><br> <h3>Reading with Code</h3>You could ask MongoDb to run a decision function across documents.<br> <blockquote><span style="color: blue">db.towns.find(&nbsp; function() {<br>return this.population &gt; 6000 &amp;&amp; this.population &lt; 600000;<br>} )</span></blockquote>or in a short-hand format <span style="color: blue">db.towns.find("this.population &gt; 6000 &amp;&amp; this.population &lt; 600000")</span><br><span style="color: black">or combine custom code with other criteria using <b>$where</b></span><br> <blockquote><span style="color: blue">db.towns.find( {<br>$where : "this.population &gt; 6000 &amp;&amp; this.population &lt; 600000",<br>famous_for : /groundhog/<br>} )</span></blockquote>Custom code should be your last resort due to the following:<br> <ol> <li>Custom code queries run slower than regular queries. <li>Custom code queries can’t be indexed. <li>MongoDb can’t optimize custom code queries. <li>If your custom code assume the existence of a particular field and this field is missing in a single, the entire query will fail.</li></ol>In this post we explored the basics of MongoDB, a rising star in the NoSQL family and the most common document database. We saw how to install and configure it. We saw how we can store nested structured data as JSON objects and query that data at any depth. We How we can update and delete data. In the next post we going to dig deep into MongoDB.

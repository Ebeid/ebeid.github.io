
<!DOCTYPE html>
<html lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="X-UA-Compatible" content="ie=edge"/>
<meta name="theme-color" content="#478079" >



<title>Ebeid ElSayed | Product Manager</title>
<meta name="description" content='Ebeid ElSayed | Product Manager | Personal Site.'>


<style data-generator="critical-css">

</style>



    
        
        
    

    
        
        
    

    
        
        
    

  
  
  
  
  <link rel="stylesheet" href="http://localhost:1313/css/menu.6e233ea8020133c8fdf840fc9876a529cacbe674c7d8193cc12963d7eb29f253.css" integrity="sha256-biM&#43;qAIBM8j9&#43;ED8mHalKcrL5nTH2Bk8wSlj1&#43;sp8lM=">







 


<link
  rel="preload"
  href="/css/bundle.css"
  as="style"
  data-generator="purgeCSS"
  onload="this.onload=null;this.rel='stylesheet'"
  
/>
<noscript>
  <link 
    rel="stylesheet" 
    href="/css/bundle.css"
    
  />
</noscript>



<script src='http://localhost:1313/js/library/lozad.min.js'></script>

 

  </head>

  <body>
    

<header class="header fixed-top rad-animation-group" id="header">
  <div class="container rad-fade-in">
    <nav class="navbar navbar-expand-lg navbar-light p-0">
      <div class="container-fluid">
        <a class="navbar-brand mx-auto" href="http://localhost:1313/">
          <span>Ebeid</span>
          <span>ElSayed</span>
        </a>
        <button
          class="navbar-toggler collapsed"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent, #header"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-lg-auto">
            <li class="nav-item">
              <a class="nav-link active" href="http://localhost:1313/">HOME</a>
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/#about"
                >ABOUT</a
              >
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/#portfolio"
                >PORTFOLIO</a
              >
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/blog"
                >BLOG</a
              >
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/#contact"
                >CONTACT</a
              >
            </li>
            
          </ul>
        </div>
      </div>
    </nav>
  </div>
</header>


<section id="breadcrumb-bar" class="breadcrumb-bar container">
        <ul class="breadcrumbs">
            <li class="breadcrum-item"><span><a href="/">Home</a></span></li><li class="breadcrum-item"><span><a href="/blog">Blog</a></span></li><li class="breadcrum-item current">Introduction to R ‚Äì Charts and Graphics</li></ul>
</section>


    <section
      id="blog-single"
      class="section section--border-bottom rad-animation-group"
    >
      <div class="container">
        <h1><a href="/blog/2013-01-21-introduction-to-r-charts-and-graphics.html/">Introduction to R ‚Äì Charts and Graphics</a></h1>

        <aside id="meta" class="light-border-bottom">
          <div>
            <section>
              Published en
              <h4 id="date">Mon Jan 21, 2013</h4>
              ¬∑
              <h4 id="wordcount">1185 Words</h4>
            </section>
             
            <ul id="tags">
              
              <li><a href="/tags/r-programming-language/">R Programming Language</a></li>
              
            </ul>
            
          </div>
        </aside>

        <div class="row flex-column-reverse flex-md-row rad-fade-down">
          <div class="col-12"><p>R includes several packages for visualizing data:</p>
<ul>
<li><strong>graphics</strong> contains plotting functions for the ‚Äúbase‚Äù graphing
systems, including plot, hist, boxplot and many others.</li>
<li><strong>lattice</strong> contains code for producing Trellis graphics, which are
independent of the ‚Äúbase‚Äù graphics system; including functions like
xyplot, bwplot, levelplot. It built on <strong>grid</strong> which implements a
different graphing system independent of the ‚Äúbase‚Äù system.</li>
<li><strong>grDevices</strong> contains all code implementing the various graphics
devices, including X11, PDF, PostScript, PNG, etc.</li>
</ul>
<p>before making you chart, you need to think in the following:</p>
<ul>
<li>To what device will the chart be sent ? The default on windows is
windows, on Mac OS X it is quartz, on Unix it is x11. You can find a
list of devices available on your system in ?Devices</li>
<li>Is The chart for viewing temporarily on the screen, or will it
eventually end up in a paper ? Are you using it in a presentation ?
charts included in a paper/presentation need to use a file device
rather than a screen device.</li>
<li>Is there a large amount of data going into the chart ? Or is it just
a few points ?</li>
<li>Do you need to be able to resize the chart ?</li>
<li>What graphics system will you use: base or grid/lattice ?</li>
<li>Base graphics are usually constructed with each aspect of the chart
handled separately through a series of function calls; this is often
conceptually simpler and allows plotting to mirror the thought
process.</li>
<li>Lattice/grid graphics are usually created in a single function call,
so all of the graphics parameters have to be specified at once;
specifying everything at once allows R to automatically calculate
the necessary spacings and font sizes.</li>
</ul>
<p>You can close the graphics device for your system with dev.off() or set
it by dev.set() or turn all the graphics devices with graphics.off().</p>
<p>The base graphics system has many parameters that can set and tweaked
for the whole session using par() function. Any of these parameters can
be overridden as arguments to specific plotting functions. Some
important parameters are:</p>
<ul>
<li>pch the plotting symbol (default is open circle). For more options
run example(points)</li>
<li>lty the line type (default is solid line). More information
<a href="http://students.washington.edu/mclarkso/documents/line%20styles%20Ver2.pdf">here</a></li>
<li>lwd the line width, specified as an integer.</li>
<li>col the plotting color, specified as a number, string, or hex code;
the colors function gives you a vector of colors by name.</li>
<li>las the orientation of the axis labels on the plot. More information
<a href="http://www.statmethods.net/advgraphs/axes.html">here</a></li>
<li>bg the background color</li>
<li>mar the margin size</li>
<li>oma the output margin size</li>
</ul>
<p>you can get the default value of a parameter by par(‚Äúparam_name‚Äù)</p>
<h2 id="plotting-function">Plotting function</h2>
<ul>
<li><strong>plot</strong> make a scatterplot, or other type of plot depending on the
class of the object being plotted.</li>
<li><strong>lines</strong> add lines to a plot, given a vector x values and a
corresponding vector of y values (or a 2-column matrix); this
function just connects the dots</li>
<li><strong>points</strong> add point to a plot</li>
<li><strong>text</strong> add text lebels to a plot using specified x, y coordinates</li>
<li><strong>title</strong> add annotations to x, y axis labels, title, subtitle, out
margin</li>
<li><strong>mtext</strong> add arbitrary text to the margins (inner or outer) of the
plot</li>
<li><strong>axis</strong> adding axis ticks/labels</li>
</ul>
<p><a href="http://lh6.ggpht.com/-wYyXWF0pVX0/UP1hYgQWtNI/AAAAAAAAA_Q/-4T5HXQ3Dlk/s1600-h/RGui-64-bit_2013-01-17_14-02-006.jpg"><!-- raw HTML omitted --></a></p>
<p>now try to add some red points to it (this can be used make different
types of points on the same scatterplot)</p>
<p><a href="http://lh4.ggpht.com/-bhgFYtjQPP4/UP1hacst3dI/AAAAAAAAA_g/JvjludK07Q0/s1600-h/RGui-64-bit_2013-01-17_14-04-564.jpg"><!-- raw HTML omitted --></a></p>
<p>Now lets create a plot in a PDF file.</p>
<p><a href="http://lh5.ggpht.com/-DVwGp63Mzsg/UP1hbyLsvfI/AAAAAAAAA_w/DRArAPXSU50/s1600-h/RGui-64-bit_2013-01-17_14-24-593.jpg"><!-- raw HTML omitted --></a></p>
<p>nothing will appear on the screen but a file names ‚ÄútestPlot.pdf‚Äù will
be created in your working directory and contains the histogram. Notice
that you have to call dev.off() to close the PDF device.</p>
<h2 id="copying-plots">Copying plots</h2>
<p>You can copy your plot to another device. This is useful because some
plots require a lot of code and it can be a pain to type all that in
again for a different device.</p>
<ul>
<li><strong>dev.copy</strong> copy a plot from one device to another</li>
<li><strong>dev.copy2pdf</strong> copy a plot to a PDF file</li>
<li><strong>dev.list</strong> show a list of open graphics devices</li>
<li><strong>dev.next</strong> switch control to the next graphics device on the
device list</li>
<li><strong>dev.set</strong> set control to a specific graphics device</li>
<li><strong>dev.off</strong> close the current graphics device</li>
</ul>
<h2 id="heading">¬†</h2>
<h2 id="plotting-with-lattice-graphics">Plotting with lattice graphics</h2>
<p>Major lattice functions</p>
<ul>
<li><strong>xyplot</strong> the main function for creating scatterplots</li>
<li><strong>bwplot</strong> for box-and-whiskers plots</li>
<li><strong>histogram</strong> for histograms</li>
<li><strong>stripplot</strong> like box-and-whiskers but with actual points</li>
<li><strong>dotplot</strong> for dots on violin strings</li>
<li><strong>splom</strong> scatterplot matrix</li>
<li><strong>levelplot</strong> contoutplot for plotting image data</li>
</ul>
<p>Lattice functions generally take a formula for their first argument,
usually of the form y ~ x | f * g where x, y are the x, y variables,
after | are the conditioning variables (optional). The second argument
is the data frame or list from which the variables in the formula should
be obtained. If no data frame or list is passed, then the parent frame
is used. If no other arguments are passed, there are defaults that can
be used. To see some example in action before getting all the details,
run the following:</p>
<p>&gt; library(lattice)<br>
&gt; library(nlme)<br>
&gt; xyplot(distance ~ age | Subject, data = Orthodont)<br>
&gt; xyplot(distance ~ age | Subject, data = Orthodont, type = &ldquo;b&rdquo;)</p>
<p>Lattice functions behave differen tly from base graphics functions. Base
graphics functions plot data directly on graphics device. Lattice
graphics functions return an object of class <em>trellis</em> which can be
stored. On the command line, trellis objects are auto printed; otherwise
you have to print the trellis object.</p>
<p>Lattice functions have a <em>panel</em> function that controls what happens
inside each panel of the entire plot. Lets create two sets of random
values that are linearly related; and create a factor level that will be
used as condition between them :</p>
<p>&gt; x &lt;- rnorm(100)<br>
&gt; y &lt;- x + rnorm(100, sd = 0.5)<br>
&gt; f &lt;- gl(2, 50, labels = c(&ldquo;Group 1&rdquo;, &ldquo;Group 2&rdquo;))<br>
&gt; xyplot(y ~ x | f)<br>
<a href="http://lh4.ggpht.com/-ygwkZZtejVw/UP1hc8bDO3I/AAAAAAAAA_8/oRfKzM-UHPg/s1600-h/RGui-64-bit_2013-01-17_15-51-044.jpg"><!-- raw HTML omitted --></a></p>
<p>In the previous example we used the default panel function to draw each
panel but we can write our own function to draw panels. In below example
we just added a line representing the median of y.</p>
<p>&gt; xyplot(y ~ x | f,</p>
<ul>
<li>panel = function(x, y, &hellip;) {</li>
<li>panel.xyplot(x, y, &hellip;)</li>
<li>panel.abline(h = median(y), lty = 2) }</li>
<li>)</li>
</ul>
<p><a href="http://lh6.ggpht.com/-956izKU3avU/UP1heBzo3hI/AAAAAAAABAQ/Ina-iaK4JAQ/s1600-h/RGui-64-bit_2013-01-17_15-56-463.jpg"><!-- raw HTML omitted --></a></p>
<h2 id="mathematical-annotation">mathematical annotation</h2>
<p>R can produce <a href="http://en.wikipedia.org/wiki/LaTeX">LaTeX</a>-like symbols
on a plot for mathematical annotation. Math symbols in R are expressions
that need to be wrapped in expression() function and passed to plotting
functions (that accepts text like text, mtext, axis, legend). The output
will be formatted according to LaTeX-like rules. ?plotmath gives you a
list of allowed symbols. The following shows LaTex-like chart, x-axis,
and y-axis titles:</p>
<p>&gt; plot(x, y, main=expression(theta==0),
ylab=expression(hat(gamma)==0),
xlab=expression(sum(x[i]*y[i],i==1,n)))</p>
<p><a href="http://lh4.ggpht.com/-GsRz2xcTof4/UP1hfH227uI/AAAAAAAABAg/hvkuYXjmQ3g/s1600-h/RGui%252520%25252864-bit%252529_2013-01-21_09-17-21%25255B5%25255D.jpg"><!-- raw HTML omitted --></a></p>
<p>You can concatenate strings with LaTex symbols using *. like :</p>
<p><a href="http://lh5.ggpht.com/-RSMWUxW1Y54/UP1hggDpWKI/AAAAAAAABAs/_sQU-2IB3VE/s1600-h/RGui%252520%25252864-bit%252529_2013-01-21_09-%0A24-29%25255B3%25255D.jpg"><!-- raw HTML omitted --></a></p>
<p>If you want to use a computed value in the annotation, use substitute()¬†
to substitute the right hand side variable with your computed value
(provided in list()).</p>
<p><a href="http://lh4.ggpht.com/-yO34GUh-LGI/UP1hhuSgP8I/AAAAAAAABA8/Bdsyf1q-B5E/s1600-h/RGui%252520%25252864-bit%252529_2013-01-21_09-31-46%25255B5%25255D.jpg"><!-- raw HTML omitted --></a></p>
<h2 id="important-help-pages-for-plotting">Important help pages for plotting</h2>
<ul>
<li>?par set or get graphical parameters</li>
<li>?plot generic xy charts (base)</li>
<li>?xyplot generic xy charts (lattice)</li>
<li>?plotmath for mathematical annotation</li>
<li>?axis for modifying axes</li>
</ul>
<p>In this post we explored the basic charting capabilities in R using both
base package and lattice package. Stay tuned for more R notes.</p>
</div>
        </div>

        <aside class="content-browser light-border-top">
            Continue reading
            <div>
                
                    <a class="previous" href="/blog/2013-01-17-introduction-to-r-random-variables.html/">‚Ü© Introduction to R ‚Äì Random Variables Generation &amp; Probability Distribution Functions</a>
                
                 ‚ñ† 
                
                    <a class="next" href="/blog/2013-03-30-getting-started-with-java-pathfinder.html/"> Getting Started with Java PathFinder ‚Ü™</a>
                
            </div>
        </aside>
      </div>
    </section>

    <footer class="footer">
  <div class="container">
    <div class="footer__left">
      <div class="footer__copy">
        ¬© Adritian. Free Hugo theme by Adri√°n Moreno Pe√±a.
      </div>
    </div>
    <div class="footer__links">
      <ul class="navbar-nav ">
        <li class="nav-item">
            <a class="nav-link" href="http://localhost:1313/">üè† HOME</a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="/#about">ABOUT</a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="/#portfolio">PORTFOLIO</a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="/#contact">CONTACT</a>
        </li>
        
      </ul>
    </div>
    <div class="footer__right">
      
      <nav class="language-selector">
        <ul>
          
            
            <li class="dropdown">
              <button type="button" class="dropdown__title" aria-expanded="false" aria-controls="languages-dropdown">
                <span class="label">Language</span>    
              </button>
            <ul class="dropdown__menu" id="languages-dropdown">
              <li class="current"><span>‚úîÔ∏è English</span></li>
              
              
            
              
            
              
              
            </ul>
          </li>
        </ul>
      </nav>
      
    </div>
  </div>
</footer>
 <script>
  window.addEventListener("load", function() {
    try{
      var observer = window.lozad(".lozad", {
        rootMargin: window.innerHeight / 2 + "px 0px",
        threshold: 0.01
      }); 
      observer.observe();
    } catch(e) {
      console.error(e);
    }
  });
</script>
<script defer src='http://localhost:1313/js/rad-animations.js'></script>
<script defer src='http://localhost:1313/js/library/smooth-scroll.polyfills.min.js'></script>
<script defer src='http://localhost:1313/js/sticky-header.js'></script>
<script defer src='http://localhost:1313/js/smooth-scroll-init.js'></script>
<script defer src='http://localhost:1313/js/library/bootstrap.min.js'></script>





<script>
  window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
</script>



  </body>
</html>


---
layout: post
title: Getting started with Neo4j
date: '2013-07-17T17:19:00.001-05:00'

tags:
- NoSQL
modified_time: '2013-08-09T18:25:35.817-05:00'
thumbnail: http://lh3.ggpht.com/-HfHKQjSjOPI/UecYW8DEVZI/AAAAAAAABvw/25KdF7uAIUw/s72-c/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-17_17-16-44_thumb%25255B1%25255D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-59384554657271185.post-7947150605907482779
---

<p><a title="Neo4j official website" href="http://www.neo4j.org" target="_blank">Neo4j</a> is an open-source graph database implemented in Java. The developers describe Neo4j as "embedded, disk-based, fully transactional Java persistence engine that stores data structured in graphs rather than in tables". According to DB-Engines <a title="DB-Engines Ranking of Graph DBMS" href="http://db-engines.com/en/ranking/graph+dbms" target="_blank">report</a>, Neo4j is the most popular graph database.</p> <p>As a graph database, Neo4j focuses more on the relationships between values than on the commonalities among sets of values (such as collections of documents or tables of rows). Neo4j is small enough to be embedded into nearly any application. On the other hand, Neo4j can store tens of billions of nodes and as many edges. Let’s get started with Neo4j !</p> <h3>Download and Installation</h3> <ul> <li>Download the latest community release for your platform from <a title="Download and Install Neo4j" href="http://www.neo4j.org/download" target="_blank">here</a> (in my case it is 1.9.1 for windows ).  <li>Extract the archive to your preferred location (in my case it is C:\neo4j\)  <li>Double click Neo4j.bat in the bin directory. You will see a lot of output appears and then the window will close and leave a blank command window.  <ul> <li>If you don’t have JDK installed, you need to install it first and configure its environment variables.</li></ul> <li>Now open your browser and navigate to <a href="http://localhost:7474">http://localhost:7474</a>. If everything went fine you will see the welcome message of the webadmin interface of Neo4j</li></ul> <p><a href="http://lh5.ggpht.com/-SN4thrk_PNY/UecYWTWkRII/AAAAAAAABvs/-3Dn6ivDVYc/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-17_17-16-44%25255B3%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-17_17-16-44" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-17_17-16-44" src="http://lh3.ggpht.com/-HfHKQjSjOPI/UecYW8DEVZI/AAAAAAAABvw/25KdF7uAIUw/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-17_17-16-44_thumb%25255B1%25255D.png?imgmax=800" width="525" height="304"></a></p> <ul> <li>When you close this message you will see the webadmin interface. You can reopen the welcome message by clicking on the <em>Guide</em> button on the top-right corner on the webadmin.</li></ul> <p><a href="http://lh6.ggpht.com/-NKn2JAdxUfE/UehozydGhhI/AAAAAAAABwE/6zmtuSfrbr0/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-17_17-20-31%25255B3%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-17_17-20-31" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-17_17-20-31" src="http://lh5.ggpht.com/-hHjsogb1ATs/Ueho0XzvWZI/AAAAAAAABwI/i53FViYcFec/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-17_17-20-31_thumb%25255B1%25255D.png?imgmax=800" width="526" height="226"></a></p> <h3>Neo4j’s Web Interface</h3> <p>The above screenshot is for the <strong><em>Dashboard</em></strong> tab of the Neo4j’s webadmin interface. It shows a summary totals of the nodes and relations in the current installation. It also shows a timeline of their creation. Till now we have nothing. </p> <p>Click on the <strong><em>Data browser</em></strong> tab. This tab will be used to CRUD operations on our database.</p> <p><a href="http://lh6.ggpht.com/-4GODpxxISpg/Ueho0hpL0rI/AAAAAAAABwU/RXrXWGN9cLE/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_11-21-17%25255B3%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inlin
e; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_11-21-17" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_11-21-17" src="http://lh5.ggpht.com/-nMuNofAf4L8/Ueho1FUgiOI/AAAAAAAABwY/zZi3cnKzkBM/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_11-21-17_thumb%25255B1%25255D.png?imgmax=800" width="527" height="252"></a></p> <p>click on <strong><em>+ Node</em></strong> to create a new node. </p> <p><a href="http://lh3.ggpht.com/-fyrST6xYQEw/Ueho1REdOHI/AAAAAAAABwg/ptah-K6wts4/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_11-25-18%25255B3%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_11-25-18" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_11-25-18" src="http://lh4.ggpht.com/-fJNGfgWxybQ/Ueho14M0ZMI/AAAAAAAABws/_CMPVjF8g10/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_11-25-18_thumb%25255B1%25255D.png?imgmax=800" width="527" height="324"></a></p> <p><strong>Node</strong> is a vertex between edges that may hold data as a set of key-value pairs. The box on the top-left shows the node number (auto-increment). Now click on <strong><em>+ Add property</em></strong> to add key-value pairs, you can add as much as you want. </p> <p><a href="http://lh6.ggpht.com/-EIzdVsvPkEQ/Ueho2cYoccI/AAAAAAAABw0/8vjdfuRuD2I/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_11-40-57%25255B4%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_11-40-57" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_11-40-57" src="http://lh3.ggpht.com/-ZQHi14tQJlg/Ueho29jfjcI/AAAAAAAABw8/XeZ9zrRdKe4/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_11-40-57_thumb%25255B2%25255D.png?imgmax=800" width="536" height="336"></a></p> <p>let’s add another node with [firstName: Mark, lastName: Anthony]</p> <p>Now let’s add a friend relationship between mark and john. Click <strong><em>+ Relationship</em></strong> to add a relationship. Enter from node number, to node number, and the relationship type (just a string). Then click <strong><em>Create</em></strong>.</p> <p><a href="http://lh6.ggpht.com/-2otyoa-ZsFE/Ueho3pMzTRI/AAAAAAAABxA/OFx7t-A41xM/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_11-45-54%25255B2%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_11-45-54" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_11-45-54" src="http://lh5.ggpht.com/-NDtuBCyPlbA/Ueho36_lIwI/AAAAAAAABxI/boyxsTHv3bQ/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_11-45-54_thumb.png?imgmax=800" width="234" height="244"></a></p> <p><a href="http://lh4.ggpht.com/-BpUS-O7s6dI/Ueho4QYitPI/AAAAAAAABxU/o5SOzc_5VIg/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_12-50-05%25255B3%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_12-50-05" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_12-50-05" src="http://lh4.ggpht.com/-fcLdZVyQ8sQ/Ueho4tkl7WI/AAAAAAAABxc/QYNN1bqlkYg/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_12-50-05_thumb%25255B1%25255D.png?imgmax=800" width="541" 
height="333"></a></p> <p>Just like nodes, relationships can contain properties. Click the <strong><em>+ Add Property </em></strong>button and enter the properties [firstmet : “SXSW Conference”, LinkedIn : “Yes”] so we can keep track of where john and mark first met and weather they connected on LinkedIn or not.</p> <p>Now let’s click switch view mode button <a href="http://lh6.ggpht.com/-tZSs-cNG91o/Ueho5NMdnQI/AAAAAAAABxg/22wfmgA1RfI/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_13-14-16%25255B2%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_13-14-16" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_13-14-16" src="http://lh4.ggpht.com/-esewfc67VAk/Ueho5c-iNUI/AAAAAAAABxs/LubV-nhOHBM/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_13-14-16_thumb.png?imgmax=800" width="44" height="45"></a> and see how our graph is look like</p> <p><a href="http://lh6.ggpht.com/-qRFS12BSeJc/Ueho54LG0eI/AAAAAAAABx0/M22aYPnixpI/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_13-15-27%25255B3%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_13-15-27" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_13-15-27" src="http://lh3.ggpht.com/-ayzmy9iz2X4/Ueho6X5VTRI/AAAAAAAABx8/SqL9uBxYDbg/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_13-15-27_thumb%25255B1%25255D.png?imgmax=800" width="553" height="372"></a></p> <p>The Style button brings up a menu where you can choose which profile is used for rendering the graph visualization. To see more useful information on the diagram, click Style and then New Profile. This will take you to the “Create new visualization profile” page.</p> <p>Enter “Social Network” as the new visualization profile name. Select Box from the <strong><em>Show as</em></strong> dropdown box. Change the Label from {id} to {id}: {prop.firstName} (prop.lastName}. You may change the font size or color. Click <strong><em>Save</em></strong>. Now your graph should look like:</p> <p><a href="http://lh5.ggpht.com/-ikrzLJo-h9E/Ueho6zWtaBI/AAAAAAAAByE/NzzBh-LFaMA/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_13-37-52%25255B3%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_13-37-52" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_13-37-52" src="http://lh5.ggpht.com/-Ma28cqMZpyU/Ueho7QDnzDI/AAAAAAAAByI/d1mwkYuVhMQ/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_13-37-52_thumb%25255B1%25255D.png?imgmax=800" width="395" height="89"></a></p> <p>Although the web interface is an easy way to make a few edits, we need a more powerful interface.</p> <h3>Neo4j via Gremlin</h3> <p>There are several languages that interoperate with Neo4j: Java code, REST, Cypher, Ruby console, and others. The one we’ll use today is called Gremlin. <a href="https://github.com/tinkerpop/gremlin/wiki" target="_blank">Gremlin</a> is a graph traversal language written in the <a href="http://groovy.codehaus.org/" target="_blank">Groovy</a> programming language. You don’t not need any knowledge of Groovy to use Gremlin. The Gremlin console is available in the Web Admin; just click the<br>Console link at the top, and choose Gremlin.</p> <p><a href="http://lh6.ggpht.com/-5YnJhq1akyM/Ueho7pjzMVI/AAAAAAAAByU/iCtBhCPlbk4/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_14-14-10%25255B3%25255D.png
"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_14-14-10" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_14-14-10" src="http://lh5.ggpht.com/-5pY5EbFeRRQ/Ueho8DnUG_I/AAAAAAAAByc/iGW2h0TPWcg/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_14-14-10_thumb%25255B1%25255D.png?imgmax=800" width="529" height="210"></a></p> <p>Since Gremlin is a general-purpose graph traversal language, it uses general mathematic graph terms. Where Neo4j calls a graph data point a node, Gremlin prefers vertex, and rather than relationship, Gremlin calls it an edge. g is a variable that represents the graph object. Graph actions are functions called on it.</p> <ul> <li><strong>g.V</strong> gets the graph vertices  <li><strong>g.E</strong> gets the graph edges  <li><strong>g.v(0)</strong> gets vertex 0.</li></ul> <p><a href="http://lh5.ggpht.com/-uP_DRe8kRhs/Ueho8XoHBPI/AAAAAAAAByk/CuOgVZRdFXM/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_14-19-39%25255B2%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_14-19-39" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_14-19-39" src="http://lh3.ggpht.com/-NSvSABsWbug/Ueho8x6f5BI/AAAAAAAABys/8TnFAlLeZjI/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_14-19-39_thumb.png?imgmax=800" width="213" height="162"></a></p> <ul> <li><strong>g.v(1).map()</strong> lists all vertex 1 properties  <li><strong>g.v(1).firstName </strong>returns property <em>firstName</em> of vertex 1</li></ul> <p><a href="http://lh3.ggpht.com/-3hz3CNQMfvU/Ueho9mv8IAI/AAAAAAAABy0/ygPQpcTBGzM/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_14-39-10%25255B2%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_14-39-10" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_14-39-10" src="http://lh6.ggpht.com/-wrQ6_dbh_zU/Ueho-HyhfzI/AAAAAAAABy4/1VDoJf6oRxk/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_14-39-10_thumb.png?imgmax=800" width="223" height="155"></a></p> <ul> <li><strong>g.V.filter { }</strong> gets (walk in Groovy terminology) the vertices that evaluate true according to the filter condition (closure in Groovy terminology) between the curly braces {}. The <strong>it</strong> keyword inside the closure represents the current object and is automatically populated. <font color="#0000ff">g.V.filter{it.firstName == 'Mark'}</font>  <li><strong>g.v(2).outE</strong> gets the outgoing edges of the given vertex(2).  <li><strong>g.v(1).inE</strong> gets the incoming edges for the given vertex(1).  <li><strong>g.v(2).outE</strong>.firstMet gets the firstMet property of the outgoing edge from vertex 2. Can be applied for <strong>inE</strong>.</li></ul> <p><a href="http://lh5.ggpht.com/-OtoTXdeNsUw/Ueho-efrK3I/AAAAAAAABzE/HpqvyH19emc/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_15-34-18%25255B2%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_15-34-18" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_15-34-18" src="http://lh3.ggpht.com/-fUgtuidAca0/Ueho-xbn0bI/AAAAAAAABzI/zKTTgu4HcQc/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_15-34-18_thumb.png?imgmax=800" width="239" height="
104"></a></p> <ul> <li><strong>inV</strong> gets the incoming vertices. You could retrieve any property of these vertices</li></ul> <p><a href="http://lh5.ggpht.com/-ivmF_ue0tww/Ueho_CKEDbI/AAAAAAAABzQ/UBF5WEKGj3Q/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_15-51-25%25255B2%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_15-51-25" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_15-51-25" src="http://lh5.ggpht.com/-aTAGUaRs_Cw/Ueho_q2iV3I/AAAAAAAABzY/KHMAVirP6AQ/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_15-51-25_thumb.png?imgmax=800" width="244" height="89"></a></p> <ul> <li><strong>outV</strong> gets the outgoing vertices  <li><strong>out</strong> shorthand version of <strong>outE.inV</strong>  <li><strong>in</strong> shorthand version of <strong>inE.outV</strong>  <li><strong>g.addVertex([<em>propertyName</em> : ‘<em>Property value</em>’])</strong> add a vertex to graph with the specified properties.  <li><strong>g.addEdge(<em>vertex1</em>, <em>vertex2</em>, ‘<em>relationName</em>’)</strong> add an edge from <em>vertex1</em> to <em>vertex2</em> with relation <em>relationName</em>.</li></ul> <p><a href="http://lh5.ggpht.com/-zeXmD1maO30/Ueho_0hRqpI/AAAAAAAABzg/EH2NjlVVlPg/s1600-h/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_16-11-55%25255B3%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_16-11-55" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_16-11-55" src="http://lh6.ggpht.com/-qVFdDY-b8Vs/UehpACdlLyI/AAAAAAAABzs/Q624Kyhmd6s/Neo4j%252520-%2525201.9.1%252520-%252520Google%252520Chrome_2013-07-18_16-11-55_thumb%25255B1%25255D.png?imgmax=800" width="541" height="76"></a></p> <h3>Pipes</h3> <p>Gremlin operations can be treated as a series of pipes. Each pipe takes a collection as input and pushes a collection as output. A collection may have one item, many items, or no items at all. The items may be vertices, edges, or property values.&nbsp; Gremlin, Pipes, and many more are parts of a bigger system developed by <a href="https://github.com/tinkerpop/blueprints/wiki" target="_blank">Tinkerpop</a>. </p> <p><img src="https://github.com/tinkerpop/rexster/raw/master/doc/images/rexster-system-arch.png" width="349" height="367"><br>For example, the outE pipe takes in a collection of vertices and sends out a collection of edges. The series of pipes is called a pipeline and expresses declaratively what the problem is (not the steps to solve the problem like in imperative programming). </p> <p>Gremlin is built on top of a Java project named Pipes. Suppose that Mark would like to know the colleagues of his friend John. </p> <p><a href="http://lh5.ggpht.com/-EPRt1_Wu66w/UgV6Zio9I1I/AAAAAAAAB0w/vTQCxiJ6SYI/s1600-h/Neo4j---1.9.1---Google-Chrome_2013-0%25255B24%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_17-14-58" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_17-14-58" src="http://lh3.ggpht.com/-JanPTELPkQA/UgV6Z19G5PI/AAAAAAAAB04/04xVpziziXk/Neo4j---1.9.1---Google-Chrome_2013-0%25255B34%25255D.png?imgmax=800" width="405" height="182"></a></p> <p>the query will be something like that:</p> <p><a href="http://lh3.ggpht.com/-5GZyVwGEMtQ/UgV6aLMJKsI/AAAAAAAAB1A/A-Zk1p89nr0/s1600-h/Neo4j---1.9.1---Google-Chrome_2013-0%25255B10%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-
width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-18_17-26-12" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-18_17-26-12" src="http://lh4.ggpht.com/-YzaYjMqG0dA/UgV6aqXgv4I/AAAAAAAAB1E/KeS-1MM-Q5g/Neo4j---1.9.1---Google-Chrome_2013-0.png?imgmax=800" width="452" height="90"></a></p> <p>Gremlin query works quite similar to jQuery in terms of expressing the graph traversal process. Consider the following HTML snippet:</p><pre class="prettyprint lang-html"><ul id="navigation"><br /><li><br /><a name="section1">section 1</a><br /><br /><li><br /><a name="section2">section 2</a><br /><br /></li></ul><br /></pre><br /><ul><br /><li>Getting the <em>section 1</em> string using jQuery <br /><ul><br /><li><strong><font color="#0000ff">$('[id=navigation]').children('li').children('[name=section1]').text()</font></strong></li></ul><br /><li>Getting the <em>section 1</em> string using Gremlin <br /><ul><br /><li><strong><font color="#0000ff">g.V.filter{it.id=='navigation'}.out.filter{it.tag=='li'}.<br>out.filter{it.name=='section1'}.text</font></strong></li></ul></li></ul><br /><h3>Pipeline vs. Vertex</h3><br /><p>To get a collection containing just one specific vertex, we can filter it from the list of all nodes. This is what we have been doing so far using g.V.filter{}. The The V property is the list of all nodes, from which we subset the desired set. But when we want the vertex itself, we need to<br>call next(). This method retrieves the first vertex from the pipeline. It’s similar to the difference between an array of one element and the element itself. To show the difference, call the <em>class</em> property of <em>filter</em> and <em>next</em> and see the returned object.<a href="http://lh5.ggpht.com/-IUVvystbdPU/UgV6bNVH6YI/AAAAAAAAB1Q/-cAsrqZbL2o/s1600-h/Neo4j---1.9.1---Google-Chrome_2013-0%25255B48%25255D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Neo4j - 1.9.1 - Google Chrome_2013-07-19_09-14-15" border="0" alt="Neo4j - 1.9.1 - Google Chrome_2013-07-19_09-14-15" src="http://lh4.ggpht.com/-THKDuBGCWDE/UgV6bS79cLI/AAAAAAAAB1Y/k2ZO7gcyl6I/Neo4j---1.9.1---Google-Chrome_2013-0%25255B36%25255D.png?imgmax=800" width="566" height="88"></a></p><br /><p>Pipe-processing units called steps in Gremlin and it falls in the following types.</p><br /><ul><br /><li>Transform steps : take an object and emit a transformation of it. <br /><li>Filter steps : decide whether to allow an object to pass or not. <br /><li>sideEffect : pass the object, but yield some side effect. <br /><li>branch : decide which step to take.</li></ul><br /><p>For a complete list of steps in each type, refer to <a title="Gremlin Steps" href="https://github.com/tinkerpop/gremlin/wiki/Gremlin-Steps" target="_blank">this</a>. Groovy also has a map function (a la mapreduce) named <strong>collect()</strong> and a reduce function named <strong>inject()</strong>. Using these, you can preform<br>mapreduce-like queries.</p><br /><h3>Domain-Specific Steps</h3><br /><p>Graph traversal is sufficient but it is not business friendly. Business is not talking in edges and vertices. Gremlin lets us creating new steps that are semantically meaningful to the data stored in the graph.</p>  


<!DOCTYPE html>
<html lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="X-UA-Compatible" content="ie=edge"/>
<meta name="theme-color" content="#478079" >



<title>Ebeid ElSayed | Product Manager</title>
<meta name="description" content='Ebeid ElSayed | Product Manager | Personal Site.'>


<style data-generator="critical-css">

</style>



    
        
        
    

    
        
        
    

    
        
        
    

  
  
  
  
  <link rel="stylesheet" href="http://localhost:1313/css/menu.6e233ea8020133c8fdf840fc9876a529cacbe674c7d8193cc12963d7eb29f253.css" integrity="sha256-biM&#43;qAIBM8j9&#43;ED8mHalKcrL5nTH2Bk8wSlj1&#43;sp8lM=">







 


<link
  rel="preload"
  href="/css/bundle.css"
  as="style"
  data-generator="purgeCSS"
  onload="this.onload=null;this.rel='stylesheet'"
  
/>
<noscript>
  <link 
    rel="stylesheet" 
    href="/css/bundle.css"
    
  />
</noscript>



<script src='http://localhost:1313/js/library/lozad.min.js'></script>

 

  </head>

  <body>
    

<header class="header fixed-top rad-animation-group" id="header">
  <div class="container rad-fade-in">
    <nav class="navbar navbar-expand-lg navbar-light p-0">
      <div class="container-fluid">
        <a class="navbar-brand mx-auto" href="http://localhost:1313/">
          <span>Ebeid</span>
          <span>ElSayed</span>
        </a>
        <button
          class="navbar-toggler collapsed"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent, #header"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-lg-auto">
            <li class="nav-item">
              <a class="nav-link active" href="http://localhost:1313/">HOME</a>
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/#about"
                >ABOUT</a
              >
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/#portfolio"
                >PORTFOLIO</a
              >
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/blog"
                >BLOG</a
              >
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/#contact"
                >CONTACT</a
              >
            </li>
            
          </ul>
        </div>
      </div>
    </nav>
  </div>
</header>


<section id="breadcrumb-bar" class="breadcrumb-bar container">
        <ul class="breadcrumbs">
            <li class="breadcrum-item"><span><a href="/">Home</a></span></li><li class="breadcrum-item"><span><a href="/blog">Blog</a></span></li><li class="breadcrum-item current">Why Pex Choose These Inputs</li></ul>
</section>


    <section
      id="blog-single"
      class="section section--border-bottom rad-animation-group"
    >
      <div class="container">
        <h1><a href="/blog/2013-04-25-why-pex-choose-these-inputs.html/">Why Pex Choose These Inputs</a></h1>

        <aside id="meta" class="light-border-bottom">
          <div>
            <section>
              Published en
              <h4 id="date">Thu Apr 25, 2013</h4>
              ¬∑
              <h4 id="wordcount">554 Words</h4>
            </section>
             
            <ul id="tags">
              
              <li><a href="/tags/microsoft-pex/">Microsoft Pex</a></li>
              
            </ul>
            
          </div>
        </aside>

        <div class="row flex-column-reverse flex-md-row rad-fade-down">
          <div class="col-12"><p>In the example we gave in the previous post, it may seem that Pex chose
random numbers as inputs for the Triang() method but it is not. But also
its not all possible values for the inputs.</p>
<p>Actually, Pex generates test inputs by analyzing your program code, so
it is called whitebox test generation (as opposed to blackbox test
generation). For every statement in the code, Pex will eventually try to
create a test input that will reach that statement. Pex will do a case
analysis for every conditional branch in the code‚Äîfor example, if
statements, assertions, and all operations that can throw exceptions.</p>
<p>In other words, the number of test inputs that Pex generates depends on
the number and possible combinations of conditional branches in the code
(if interested to know more about that, search for <a href="http://en.wikipedia.org/wiki/Symbolic_execution">symbolic
execution</a>). Pex
operates in a feedback loop: it executes the code multiple times and
learns about the program behavior by monitoring the control and data
flow.</p>
<p>After each run, Pex does the following:</p>
<ul>
<li>Chooses a branch that was not covered previously.</li>
<li>Builds a constraint system that describes how to reach that branch.</li>
<li>Uses a constraint solver to determine new test inputs that fulfill
the constraints, if any exist.</li>
</ul>
<p>The test is executed again with the new inputs, and the process repeats.
On each run, Pex might discover new code and dig deeper into the
implementation. In this way, Pex explores the behavior of the code.¬†</p>
<p>Because our code doesn‚Äôt have any conditions that test zero length
sides, Pex generated zero an input and also shows that our program is
defective (because it considers a triangle with (0,0,0) as equilateral
and (1,0,1) as isosceles). If we added the following lines of code after
declaring triOut and before doing anything.</p>
<pre><code>// A quick confirmation that it's a valid triangle            
if (Side1 &lt;= 0 || Side2 &lt;= 0 || Side3 &lt;= 0)      
{
 triOut = 4;
 return (triOut);
}
</code></pre>
<p>You will get a different set of test inputs from Pex that reveal more
code path combinations.</p>
<p><a href="http://lh3.ggpht.com/-kkl0_xonlkQ/UXghFZvRXfI/AAAAAAAABJ0/BYNtjUqNKME/s1600-h/ConsoleApplication2%252520-%252520Microsoft%252520Visual%252520Studio_2013-04-24_13-06-48%25255B3%25255D.jpg"><!-- raw HTML omitted --></a></p>
<p>We mentioned before that pex generates test input by performing a
symoblic analysis of the code under test. You can use the method
<strong>GetPathConditionString</strong> of the <strong>PexSymbolicValue</strong> class to obtain a
textual representation of the current path condition, a predicate
(condition) that characterizes an execution path. The <strong>ToString</strong>
method of <strong>PexSymbolicValue</strong> class gives you a textual representation
of how a value was derived from the test input provided. To do so, add
reference to Pex Framework dll (located at &ldquo;C:\Program Files\Microsoft
Moles\PublicAssemblies\Microsoft.Pex.Framework.dll&rdquo;). Add <em><strong>using
Microsoft.Pex.Framework;</strong></em> to your code then add the following code
anywhere in your code to get details about the code path at that point.</p>
<pre><code> PexObserve.ValueForViewing(&quot;Condition&quot;, PexSymbolicValue.GetPathConditionString());
 PexObserve.ValueForViewing(&quot;Return Value&quot;, PexSymbolicValue.ToString(
Triang(1, 1, 1)) );
</code></pre>
<p>Here I added it into the Triang() method we used before. Run Pex and you
will see the new columns added to the results populated with conditions
that led to .</p>
<p><a href="http://lh5.ggpht.com/-RqqqoVZhxBo/UXlxQ65oPXI/AAAAAAAABKk/64L_Socl9Aw/s1600-h/ConsoleApplication2%252520-%252520Microsoft%252520Visual%252520Studio_2013-04-25_11-49-50%25255B4%25255D.jpg"><!-- raw HTML omitted --></a></p>
<p><strong>ToRawString</strong> method and <strong>GetRawPathConditionString</strong> method return
expressions representing symbolic values and the path condition,
formatted as <a href="http://en.wikipedia.org/wiki/S-expression">S-expressions</a>.</p>
<p>Method PexObserve.ValueForViewing can also be used to display the value
picked by Pex for any variable at any point in your code.</p>
<p>The same engine Pex uses is now available as part of <a href="http://research.microsoft.com/en-us/projects/codedigger/default.aspx">Code
Digger</a>,
a Visual Studio 2012 extension. We will talk about it in a future post.</p>
</div>
        </div>

        <aside class="content-browser light-border-top">
            Continue reading
            <div>
                
                    <a class="previous" href="/blog/2013-04-24-getting-started-with-microsoft-pex.html/">‚Ü© Getting started with Microsoft Pex</a>
                
                 ‚ñ† 
                
                    <a class="next" href="/blog/2013-04-26-getting-started-with-microsoft-code.html/"> Getting started with Microsoft Code Digger ‚Ü™</a>
                
            </div>
        </aside>
      </div>
    </section>

    <footer class="footer">
  <div class="container">
    <div class="footer__left">
      <div class="footer__copy">
        ¬© Adritian. Free Hugo theme by Adri√°n Moreno Pe√±a.
      </div>
    </div>
    <div class="footer__links">
      <ul class="navbar-nav ">
        <li class="nav-item">
            <a class="nav-link" href="http://localhost:1313/">üè† HOME</a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="/#about">ABOUT</a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="/#portfolio">PORTFOLIO</a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" href="/#contact">CONTACT</a>
        </li>
        
      </ul>
    </div>
    <div class="footer__right">
      
      <nav class="language-selector">
        <ul>
          
            
            <li class="dropdown">
              <button type="button" class="dropdown__title" aria-expanded="false" aria-controls="languages-dropdown">
                <span class="label">Language</span>    
              </button>
            <ul class="dropdown__menu" id="languages-dropdown">
              <li class="current"><span>‚úîÔ∏è English</span></li>
              
              
            
              
            
              
              
            </ul>
          </li>
        </ul>
      </nav>
      
    </div>
  </div>
</footer>
 <script>
  window.addEventListener("load", function() {
    try{
      var observer = window.lozad(".lozad", {
        rootMargin: window.innerHeight / 2 + "px 0px",
        threshold: 0.01
      }); 
      observer.observe();
    } catch(e) {
      console.error(e);
    }
  });
</script>
<script defer src='http://localhost:1313/js/rad-animations.js'></script>
<script defer src='http://localhost:1313/js/library/smooth-scroll.polyfills.min.js'></script>
<script defer src='http://localhost:1313/js/sticky-header.js'></script>
<script defer src='http://localhost:1313/js/smooth-scroll-init.js'></script>
<script defer src='http://localhost:1313/js/library/bootstrap.min.js'></script>





<script>
  window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
</script>



  </body>
</html>

